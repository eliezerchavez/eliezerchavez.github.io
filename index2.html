<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>&gt;EC</title>

  <!-- Font Awesome -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">

  <style>
    :root {
      --max-logo: 76vmin;
      --min-logo: 160px;
      --brand-blue: #002E6D;
    }
    * { box-sizing: border-box; }
    html, body { height: 100%; margin: 0; }
    body {
      display: flex;
      align-items: center;
      justify-content: center;
      transition: background-color .25s ease;
    }
    .wrapper {
      display: flex;
      flex-direction: column;
      align-items: flex-end; /* buttons align to right edge of logo */
    }
    .logo-box {
      width: clamp(var(--min-logo), 40vw, var(--max-logo));
      max-height: 80vh;
      aspect-ratio: 3 / 1.2;
      display: grid;
      place-items: center;
    }
    #logo {
      width: 100%;
      height: 100%;
      object-fit: contain;
      -webkit-user-drag: none;
      user-select: none;
      transition: opacity .18s ease;
      opacity: 1;
    }
    .fade-out { opacity: 0; }
    .fade-in  { opacity: 1; }

    .actions {
      display: flex;
      gap: 10px;
      margin-top: 20px; /* spacing under the logo */
      opacity: 0;
      pointer-events: none;
      transition: opacity .25s ease;
    }
    .actions.show {
      opacity: 1;
      pointer-events: auto;
    }
    .btn {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      min-width: 44px;
      height: 40px;
      padding: 0 14px;
      border-radius: 12px;
      background: #ffffff;
      color: var(--brand-blue);
      text-decoration: none;
      box-shadow: 0 6px 18px rgba(0,0,0,.2);
      transition: transform .15s ease, box-shadow .2s ease;
      outline: none;
    }
    .btn:hover { transform: translateY(-1px); box-shadow: 0 10px 28px rgba(0,0,0,.28); }
    .btn:active { transform: translateY(0); }
    .btn:focus-visible { outline: 2px solid var(--brand-blue); outline-offset: 3px; }
    .btn i { font-size: 18px; line-height: 1; }

    @media (prefers-reduced-motion: reduce) {
      * { transition-duration: 0.001ms !important; }
    }
  </style>
</head>
<body>
  <div class="wrapper">
    <div class="logo-box">
      <img id="logo" alt=">EC logo"
           src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==" />
    </div>
    <nav class="actions" id="actions" aria-label="Quick contact">
      <a class="btn" href="mailto:hi@eliezerchavez.com" aria-label="Email"><i class="fa-solid fa-envelope"></i></a>
      <a class="btn" href="https://www.linkedin.com/in/eliezerchavez/" target="_blank" rel="noopener" aria-label="LinkedIn"><i class="fa-brands fa-linkedin-in"></i></a>
      <a class="btn" href="https://github.com/eliezerchavez" target="_blank" rel="noopener" aria-label="GitHub"><i class="fa-brands fa-github"></i></a>
    </nav>
  </div>

  <script>
    const LOGO = {
      "COL-01": { src: "img/col-01.svg", bg: "#FFFFFF" },
      "COL-02": { src: "img/col-02.svg", bg: "#002E6D" },
      "GRS-01": { src: "img/grs-01.svg", bg: "#FFFFFF" },
      "GRS-02": { src: "img/grs-02.svg", bg: "#1D252C" },
      "NEG-01": { src: "img/neg-01.svg", bg: "#1D252C" },
      "OUT-01": { src: "img/out-01.svg", bg: "#FFFFFF" },
      "POS-01": { src: "img/pos-01.svg", bg: "#FFFFFF" },
      "POS-02": { src: "img/pos-02.svg", bg: "#FFFFFF" }
    };

    const FINAL_CODE   = "COL-02";
    const fastCycles   = 2;
    const fastStepDelay= 120;
    const slowSteps    = 10;
    const slowStart    = 200;
    const slowEnd      = 900;

    const imgEl  = document.getElementById('logo');
    const actEl  = document.getElementById('actions');
    const codes  = Object.keys(LOGO);

    function shuffle(arr) {
      const a = arr.slice();
      for (let i = a.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [a[i], a[j]] = [a[j], a[i]];
      }
      return a;
    }
    function show(code) {
      const item = LOGO[code];
      if (!item) return;
      document.body.style.backgroundColor = item.bg;
      imgEl.classList.remove('fade-in');
      imgEl.classList.add('fade-out');
      setTimeout(() => {
        imgEl.src = item.src;
        imgEl.classList.remove('fade-out');
        imgEl.classList.add('fade-in');
      }, 80);
    }
    const easeOutCubic = t => 1 - Math.pow(1 - t, 3);

    (function runShowcase() {
      const order = shuffle(codes);
      let step = 0, idx = 0;
      function phaseFast(next) {
        if (step >= fastCycles * order.length) { next(); return; }
        show(order[idx % order.length]);
        idx++; step++;
        setTimeout(() => phaseFast(next), fastStepDelay);
      }
      function phaseSlow(done) {
        let s = 0;
        function tick() {
          if (s >= slowSteps) { done(); return; }
          const t = s / (slowSteps - 1);
          const delay = slowStart + (slowEnd - slowStart) * easeOutCubic(t);
          show(codes[Math.floor(Math.random() * codes.length)]);
          s++;
          setTimeout(tick, delay);
        }
        tick();
      }
      function phaseStop() {
        show(FINAL_CODE);
        actEl.classList.add('show'); // reveal contact buttons
      }
      phaseFast(() => phaseSlow(phaseStop));
    })();
  </script>
</body>
</html>
